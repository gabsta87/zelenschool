<ion-content>
<div class="scheduleContainer">
<ion-grid class="ion-no-margin">
    <ion-row class="ion-text-center">
        <ion-col>
            <ion-buttons class="ion-justify-content-center">
                <ion-button fill="solid" (click)="closeOpenMonthViewDay()">Previous </ion-button>
                <ion-button fill="solid">Today </ion-button>
                <ion-button fill="solid" (click)="closeOpenMonthViewDay()">Next </ion-button>
            </ion-buttons>
        </ion-col>
        <ion-col>
            <h3>{{ viewDate | calendarDate:(view + 'ViewTitle'):'en' }}</h3>
        </ion-col>
        <ion-col>
            <ion-buttons class="ion-justify-content-center">
                <ion-button fill="solid" (click)="setView(CalendarView.Month)">Month</ion-button>
                <ion-button fill="solid" (click)="setView(CalendarView.Week)">Week</ion-button>
                <ion-button fill="solid" (click)="setView(CalendarView.Day)">Day</ion-button>
            </ion-buttons>
        </ion-col>
    </ion-row>
</ion-grid>

<!-- Start Calendar -->

<div [ngSwitch]="view">
    <mwl-calendar-month-view
        *ngSwitchCase="CalendarView.Month"
        [viewDate]="viewDate"
        [events]="events"
        [refresh]="refresh"
        [activeDayIsOpen]="activeDayIsOpen"
        (eventClicked)="handleCalendarEntry('Clicked', $event.event)"
        (eventTimesChanged)="eventTimesChanged($event)"
        (dayClicked)="myclick($event)"
    >
    </mwl-calendar-month-view>
    <mwl-calendar-week-view
        *ngSwitchCase="CalendarView.Week"
        [viewDate]="viewDate"
        [events]="events"
        [refresh]="refresh"
        (eventClicked)="handleCalendarEntry('Clicked', $event.event)"
        (eventTimesChanged)="eventTimesChanged($event)"
    >
    </mwl-calendar-week-view>
    <mwl-calendar-day-view
        *ngSwitchCase="CalendarView.Day"
        [viewDate]="viewDate"
        [events]="events"
        [refresh]="refresh"
        (eventClicked)="handleCalendarEntry('Clicked', $event.event)"
        (eventTimesChanged)="eventTimesChanged($event)"
    >
    </mwl-calendar-day-view>
</div>

<!-- Event commands -->


<ion-grid class="ion-no-margin">
    <ion-row class="ion-text-center">
        <ion-col>
            <h3>
                Edit events
            </h3>
        </ion-col>
        <ion-col>
            <ion-buttons class="ion-justify-content-center">
                <ion-button fill="solid" >Add new</ion-button>
            </ion-buttons>
        </ion-col>
    </ion-row>
</ion-grid>

<div class="events_grid" *ngIf="extractedData | async as eventsList">
<ion-grid>
    <ion-row>
        <ion-col>
            Title
        </ion-col>
        <ion-col>
            Time
        </ion-col>
        <ion-col>
            Teacher	
        </ion-col>
        <ion-col>
            Classroom	
        </ion-col>
        <ion-col>
            Attendants
        </ion-col>
    </ion-row>
    <ion-row *ngFor="let event of eventsList; index as i">
        <ion-col>
            {{event['title']}}
        </ion-col>
        <ion-col>
            {{event['eventDate']| date: "hh:mm d MMM, yy"}}
            <!-- {{event['eventDate']| date}} -->
        </ion-col>
        <ion-col>
            {{event['author'].f_name}} {{event['author'].l_name}}
        </ion-col>
        <ion-col>            
            {{event['room_id']}}
        </ion-col>
        <ion-col>
            <ion-list *ngIf="event['attendantsId']" lines="none">
                <ion-item *ngFor="let att of event['attendantsId']">
                    {{att.f_name}} {{att.l_name}}
                </ion-item>
            </ion-list>
        </ion-col>
    </ion-row>
</ion-grid>
</div>
</div>
</ion-content>
